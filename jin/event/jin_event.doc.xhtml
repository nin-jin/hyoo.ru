<?xml-stylesheet href="../../doc/-mix/release.xsl" type="text/xsl" ?>
<doc_root
    doc_title="$jin_event"
    >

    <p>Примесь, позволяющая классу выступать в качестве события. </p>
    <p>
        <script type="wc_test">
            _test.ok( $jin_event )
        </script>
        <script type="wc_test">
            $jin_event_test= $jin_event( function( onTest1, event ){
                onTest1.type= '$jin_event_test'
                onTest1.bubbles= true
            } )
            
            _test.ok( $jin_event_test )
        </script>
        <script type="wc_test">
            var done= false
            var listener= $jin_event_test.listen( document, function( event ){
                done= true
            })
            
            $jin_event_test().scream( document )
            
            listener.destroy()
            
            _test.ok( done )
        </script>
        <script type="wc_test">
            var body= document.getElementsByTagName( 'body' )[ 0 ]
            
            var listener= $jin_event_test.listen( document, function( event ){
                _test.ok( event.target(), body )
            })
            
            $jin_event_test().scream( body )
            
            listener.destroy()
        </script>
        <script type="wc_test">
            var head= document.getElementsByTagName( 'head' )[ 0 ]
            var body= document.getElementsByTagName( 'body' )[ 0 ]
            
            var listener= $jin_event_test.listen( document, function( event ){
                event.target( head )
                _test.ok( event.target(), head )
            })
            
            $jin_event_test().scream( body )
            
            listener.destroy()
        </script>
        <script type="wc_test">
            var listener= $jin_event_test.listen( document, function( event ){
                event.type( '$jin_event_test2' )
                _test.ok( event.type(), '$jin_event_test2' )
            })
            
            $jin_event_test().scream( document )
            
            listener.destroy()
        </script>
    </p>
    
</doc_root>
