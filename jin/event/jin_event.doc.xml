<?xml-stylesheet href="../../doc/-mix/release.xsl" type="text/xsl" ?>
<doc_root
    xmlns:h="http://www.w3.org/1999/xhtml"
    doc_title="$jin_event"
    >

    <h:p>Примесь, позволяющая классу выступать в качестве события. </h:p>
    <h:p>
        <wc_js-test>
            _test.ok( $jin_event )
        </wc_js-test>
        <wc_js-test>
            $jin_event_test= $jin_event( function( onTest1, event ){
                onTest1.type= '$jin_event_test'
                onTest1.bubbles= true
            } )
            
            _test.ok( $jin_event_test )
        </wc_js-test>
        <wc_js-test>
            var done= false
            var listener= $jin_event_test.listen( document, function( event ){
                done= true
            })
            
            $jin_event_test().scream( document )
            
            listener.destroy()
            
            _test.ok( done )
        </wc_js-test>
        <wc_js-test>
            var body= document.getElementsByTagName( 'body' )[ 0 ]
            
            var listener= $jin_event_test.listen( document, function( event ){
                _test.ok( event.target(), body )
            })
            
            $jin_event_test().scream( body )
            
            listener.destroy()
        </wc_js-test>
        <wc_js-test>
            var head= document.getElementsByTagName( 'head' )[ 0 ]
            var body= document.getElementsByTagName( 'body' )[ 0 ]
            
            var listener= $jin_event_test.listen( document, function( event ){
                event.target( head )
                _test.ok( event.target(), head )
            })
            
            $jin_event_test().scream( body )
            
            listener.destroy()
        </wc_js-test>
        <wc_js-test>
            var listener= $jin_event_test.listen( document, function( event ){
                event.type( '$jin_event_test2' )
                _test.ok( event.type(), '$jin_event_test2' )
            })
            
            $jin_event_test().scream( document )
            
            listener.destroy()
        </wc_js-test>
    </h:p>
    
</doc_root>
