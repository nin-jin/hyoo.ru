<?xml-stylesheet href="../../doc/-mix/release.xsl" type="text/xsl" ?>
<doc_root
    xmlns:h="http://www.w3.org/1999/xhtml"
    doc_title="$jin_onChange"
    >

    <h:p>Событие возникающее, когда меняется часть поддерева (в том числе и атрибуты). </h:p>
    <h:p>
        <wc_js-test>
            _test.ok( $jin_onChange )
        </wc_js-test>
    </h:p>
    <h:p>
        <wc_js-test>
            var node= document.createElement( 'jin_onChange_test' )
            document.getElementsByTagName( 'body' )[0].appendChild( node )
            
            var result
            var listener= $jin_onChange.listen( node, function( event ){
                result= ( event.target === node )
            })
            
            node.setAttribute( 'jin_onChange_test0', 'hello' )
            
            listener.destroy()
            node.parentNode.removeChild( node )
            
            _test.ok( result )
        </wc_js-test>
        <wc_js-test>
            var parent= document.createElement( 'jin_onChange_test1' )
            var child= document.createElement( 'jin_onChange_test2' )
            
            parent.appendChild( child )
            document.getElementsByTagName( 'body' )[0].appendChild( parent )
            
            var result
            var listener= $jin_onChange.listen( parent, function( event ){
                result= ( event.target === child )
            })
            
            child.innerHTML= 'hello'
            
            listener.destroy()
            parent.parentNode.removeChild( parent )
            
            _test.ok( result )
        </wc_js-test>
    </h:p>
    
    <h:p>Также позволяет отслеживать изменения в инпутах в реальном времени. </h:p>
    <h:p>
        <wc_js-test>
            var node= document.createElement( 'input' )
            document.getElementsByTagName( 'body' )[0].appendChild( node )
            
            var result
            var listener= $jin_onChange.listen( node, function( event ){
                result= ( event.target === node )
            })
            
            node.focus()
            node.value= 'hello'
            node.blur()
            
            listener.destroy()
            node.parentNode.removeChild( node )
            
            _test.ok( result )
        </wc_js-test>
        <wc_js-test>
            var parent= document.createElement( 'jin_onChange_test1' )
            var child= document.createElement( 'jin_onChange_test2' )
            
            parent.appendChild( child )
            document.getElementsByTagName( 'body' )[0].appendChild( parent )
            
            var result
            var listener= $jin_onChange.listen( parent, function( event ){
                result= ( event.target === child )
            })
            
            child.innerHTML= 'hello'
            
            listener.destroy()
            parent.parentNode.removeChild( parent )
            
            //_test.ok( result )
        </wc_js-test>
    </h:p>
    
</doc_root>
